(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{404:function(s,t,a){"use strict";a.r(t);var n=a(8),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"å†™åœ¨æ–‡ç« å¼€å¤´"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å†™åœ¨æ–‡ç« å¼€å¤´"}},[s._v("#")]),s._v(" å†™åœ¨æ–‡ç« å¼€å¤´")]),s._v(" "),t("p",[s._v("æµ‹è¯•é©±åŠ¨å¼€å‘ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„TDDï¼ŒæŒ‰ç…§æƒå¨èµ„æ–™çš„è¯´æ³•ï¼ŒTDDå®é™…ä¸Šä¸æ‹˜æ³¥äºä»»ä½•å½¢å¼ï¼Œå¯ä»¥æ˜¯å•å…ƒæµ‹è¯•ä¹Ÿå¯ä»¥æ˜¯QAç­‰æµ‹è¯•è¿ç§»çš„éªŒæ”¶æ ‡å‡†ï¼Œæ€»è¨€ä¹‹è¿™ç§æ¨¡å¼å¼ºè°ƒçš„æ˜¯é€šè¿‡éªŒæ”¶æ ‡å‡†è¾…åŠ©å¼€å‘äººå‘˜ç†æ¸…éœ€æ±‚ï¼Œä»è€Œç¡®ä¿æ¯æ¬¡è¿­ä»£ã€é‡æ„éƒ½èƒ½å¾—åˆ°æ˜ç¡®çš„åé¦ˆï¼Œç¡®ä¿åŠŸèƒ½è½åœ°å‡†ç¡®æ€§åŒæ—¶ï¼Œè¿˜èƒ½å¤Ÿæå‡ç ”å‘äººå‘˜çš„ç”Ÿäº§æ•ˆç‡ã€‚")]),s._v(" "),t("p",[s._v("è€Œæœ¬æ–‡å°†ä»ä¸€ä¸ªåŸºç¡€å¹¶å‘ç¼“å­˜é˜Ÿåˆ—ï¼Œæ¼”ç¤ºä¸€ä¸‹å¦‚ä½•åŸºäºTDDæ¨¡å¼å®ŒæˆåŠŸèƒ½å¼€å‘ã€è¿­ä»£ã€ä¼˜åŒ–ï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚")]),s._v(" "),t("p",[s._v("ä½ å¥½ï¼Œæˆ‘æ˜¯ "),t("strong",[s._v("SharkChili")]),s._v(" ï¼Œç¦…ä¸è®¡ç®—æœºç¨‹åºè®¾è®¡è‰ºæœ¯å¸ƒé“è€…ï¼Œå¸Œæœ›æˆ‘çš„ç†å¿µå¯¹æ‚¨æœ‰æ‰€å¯å‘ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ğŸ“ æˆ‘çš„å…¬ä¼—å·ï¼šå†™ä»£ç çš„SharkChili")]),t("br"),s._v("\nåœ¨è¿™é‡Œï¼Œæˆ‘ä¼šåˆ†äº«æŠ€æœ¯å¹²è´§ã€ç¼–ç¨‹æ€è€ƒä¸å¼€æºé¡¹ç›®å®è·µã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ğŸš€ æˆ‘çš„å¼€æºé¡¹ç›®ï¼šmini-redis")]),t("br"),s._v("\nä¸€ä¸ªç”¨äºæ•™å­¦ç†è§£çš„ Redis ç²¾ç®€å®ç°ï¼Œæ¬¢è¿ Star & Contributeï¼š"),t("br"),s._v(" "),t("a",{attrs:{href:"https://github.com/shark-ctrl/mini-redis",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/shark-ctrl/mini-redis"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("strong",[s._v("ğŸ‘¥ æ¬¢è¿åŠ å…¥è¯»è€…ç¾¤")]),t("br"),s._v("\nå…³æ³¨å…¬ä¼—å·ï¼Œå›å¤ "),t("strong",[s._v("ã€åŠ ç¾¤ã€‘")]),s._v(" å³å¯è·å–è”ç³»æ–¹å¼ï¼ŒæœŸå¾…ä¸ä½ äº¤æµæŠ€æœ¯ã€å…±åŒæˆé•¿ï¼")]),s._v(" "),t("h2",{attrs:{id:"æµ…è°ˆå¹¶å‘ç¼–ç¨‹çš„æµ‹è¯•ç†å¿µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æµ…è°ˆå¹¶å‘ç¼–ç¨‹çš„æµ‹è¯•ç†å¿µ"}},[s._v("#")]),s._v(" æµ…è°ˆå¹¶å‘ç¼–ç¨‹çš„æµ‹è¯•ç†å¿µ")]),s._v(" "),t("p",[s._v("ç›¸æ¯”äºå¸¸è§„çš„ä¸²è¡Œç¨‹åºï¼Œå¹¶å‘ç¨‹åºçš„æµ‹è¯•è¦ç›¸å¯¹å¤æ‚ä¸€äº›ï¼Œå› ä¸ºå®ƒçš„æ‰§è¡Œå­˜åœ¨æ›´å¤šçš„æœªçŸ¥æ€§ï¼Œå¯èƒ½éœ€è¦æ›´é•¿çš„æ—¶é—´æ‰èƒ½å°†è¿™äº›éšæœºçš„æœªçŸ¥æ€§æš´éœ²ã€‚å¯¹äºå¹¶å‘æµ‹è¯•çš„éªŒæ”¶æ ‡å‡†ï¼Œæˆ‘ä»¬ä¸€èˆ¬å¼ºè°ƒå¦‚ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼š")]),s._v(" "),t("ol",[t("li",[s._v("å®‰å…¨æ€§æµ‹è¯•ï¼šç¨‹åºä¸ä¼šå‘ç”Ÿä»»ä½•é”™è¯¯çš„è¡Œä¸º")]),s._v(" "),t("li",[s._v("æ´»è·ƒæ€§ï¼šæŸäº›è‰¯å¥½çš„è¡Œä¸ºæœ€ç»ˆä¼šå‘ç”Ÿ")])]),s._v(" "),t("p",[s._v("ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªå¹¶å‘æ“ä½œå®‰å…¨çš„é˜Ÿåˆ—ï¼ŒæŒ‰ç…§å¹¶å‘ç¨‹åºçš„éªŒæ”¶æ ‡å‡†ï¼Œå®‰å…¨æ€§æµ‹è¯•å¯ä»¥ç†è§£ä¸ºå¹¶å‘æ“ä½œçº¿ç¨‹å®‰å…¨ï¼Œå³å¹¶å‘å†™å…¥10ä¸ªå…ƒç´ ï¼Œæœ€ç»ˆé˜Ÿåˆ—ä¸­å­˜åœ¨çš„å…ƒç´ å°±æ˜¯10ä¸ªã€‚\nåŒç†ï¼Œæ´»è·ƒæ€§æµ‹è¯•åˆ™æ˜¯å¼ºè°ƒä¼šæŒ‰ç…§æ­£ç¡®çš„è¡Œä¸ºå‘ç”Ÿå¯¹åº”äº‹ä»¶ï¼Œä¾‹å¦‚é˜»å¡é˜Ÿåˆ—å®¹é‡ä¸º10ï¼Œå½“å†™å…¥10ä¸ªå…ƒç´ åï¼Œå°è¯•å†™å…¥ç¬¬11ä¸ªå…ƒç´ çš„çº¿ç¨‹ä¼šé˜»å¡ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://qiniuyun.sharkchili.com/202601151008049.png",alt:""}})]),s._v(" "),t("p",[s._v("æ‰€ä»¥å¯¹äºå®‰å…¨æ€§æµ‹è¯•ï¼Œæˆ‘ä»¬å¿…é¡»å­¦ä¼šæŠ“ä½ç¨‹åºçš„ä¸å˜å½¢æ¡ä»¶å’ŒåéªŒæ¡ä»¶ï¼Œä»¥æˆ‘ä»¬ä¸Šè¿°è¯´æ˜çš„å¹¶å‘å®‰å…¨é˜Ÿåˆ—ä¸ºä¾‹ï¼Œåˆ™æ˜¯ï¼š")]),s._v(" "),t("ol",[t("li",[s._v("ä¸å˜å½¢æ¡ä»¶ï¼šæ–°å»ºçš„é˜Ÿåˆ—ï¼Œé»˜è®¤å¤§å°ä¸º0")]),s._v(" "),t("li",[s._v("ä¸²è¡Œ10ä¸ªå…ƒç´ æ’å…¥é•¿åº¦ä¸º10çš„é˜Ÿåˆ—ï¼Œæœ€ç»ˆå¤§å°ä¹Ÿæ˜¯10ï¼Œä¸”ä¸ä¼šå‘ç”Ÿé˜»å¡")])]),s._v(" "),t("p",[s._v("è¿™é‡Œç¬”è€…ä¹‹æ‰€ä»¥å¼ºè°ƒä¸²è¡ŒéªŒæ”¶çš„æ¦‚å¿µï¼Œæ˜¯å› ä¸ºé’ˆå¯¹å¤æ‚çš„å¹¶å‘ç¨‹åºè€Œè¨€ï¼Œç¼–å†™å¿…è¦çš„ä¸²è¡Œæµ‹è¯•å•å…ƒï¼Œæœ‰åŠ©äºå‘ç°ä¸€äº›æ®ç«äº‰ä¹‹å¤–çš„é—®é¢˜ï¼Œä»¥é™ä½åç»­å¹¶å‘æµ‹è¯•çš„æ’é”™æˆæœ¬ã€‚")]),s._v(" "),t("p",[s._v("æ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥èŠèŠé˜»å¡å¼çš„æµ‹è¯•ï¼ŒæŒ‰ç…§jucä¸€è‡´æ€§æµ‹è¯•çš„è¯´æ³•ï¼Œæ‰€æœ‰çš„æ•…éšœéƒ½å¿…é¡»ä¸æ˜ç¡®çš„æµ‹è¯•ç”¨ä¾‹ç›¸å…³è”ï¼ŒæŒ‰ç…§JSR 166ä¸“å®¶ç»„çš„è¯´æ³•ï¼š")]),s._v(" "),t("blockquote",[t("p",[s._v("æ¯ä¸ªæµ‹è¯•å¿…é¡»ç­‰åˆ°æ‰€æœ‰åˆ›å»ºçš„çº¿ç¨‹éƒ½ç»“æŸæ‰èƒ½å®Œæˆ")])]),s._v(" "),t("p",[s._v("æ‰€ä»¥ï¼Œæ¶‰åŠæ´»è·ƒæ€§æµ‹è¯•ä¸­çš„é˜»å¡æµ‹è¯•è¿™ä¸€ç¯ï¼Œæˆ‘ä»¬å¿…é¡»åšåˆ°ç­‰å¾…æ‰€æœ‰åˆ›å»ºçº¿ç¨‹å®Œæˆå·¥ä½œä¹‹åï¼Œé€šè¿‡æŸäº›æ‰‹æ®µå»æ„ŸçŸ¥çº¿ç¨‹é˜»å¡ï¼Œç»“åˆjavaçº¿ç¨‹çš„ç‰¹æ€§ï¼Œæ‰€æœ‰é˜»å¡æŒ‚èµ·çš„çº¿ç¨‹éƒ½å¯ä»¥é€šè¿‡"),t("code",[s._v("interrupt")]),s._v("æ–¹æ³•é€šçŸ¥å…¶ä¸­æ–­å“åº”ï¼Œæ‰€ä»¥å¯¹äºæ´»è·ƒæ€§çš„åéªŒæµ‹è¯•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹åšåˆ°ï¼š")]),s._v(" "),t("ol",[t("li",[s._v("æŒ‰ç…§é¢„æœŸè¦æ±‚ç¼–å†™å¹¶å‘ç¨‹åºï¼Œç­‰å¾…æ‰€æœ‰çº¿ç¨‹è¿è¡Œå¹¶è¾¾åˆ°é¢„æœŸçŠ¶æ€(åŒ…å«é˜»å¡æ€)")]),s._v(" "),t("li",[s._v("å°è¯•å»æ‰“è®¤å®šä¸ºé˜»å¡æ–­çº¿ç¨‹ï¼Œæ„ŸçŸ¥ä¸­æ–­å¼‚å¸¸ç¡®è®¤æ´»è·ƒæ€§é—®é¢˜")])]),s._v(" "),t("h2",{attrs:{id:"tddæ¨¡å¼ä¸‹æœ‰ç•Œç¼“å­˜é˜Ÿåˆ—çš„å®ç°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tddæ¨¡å¼ä¸‹æœ‰ç•Œç¼“å­˜é˜Ÿåˆ—çš„å®ç°"}},[s._v("#")]),s._v(" TDDæ¨¡å¼ä¸‹æœ‰ç•Œç¼“å­˜é˜Ÿåˆ—çš„å®ç°")]),s._v(" "),t("h4",{attrs:{id:"éœ€æ±‚è¯´æ˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#éœ€æ±‚è¯´æ˜"}},[s._v("#")]),s._v(" éœ€æ±‚è¯´æ˜")]),s._v(" "),t("p",[s._v("æ¥ä¸‹æ¥ç¬”è€…å°±ä»‹ç»"),t("code",[s._v("TDD")]),s._v("å¼€å‘æ¨¡å¼ä¸‹å®Œæˆä¸€ä¸ªæœ‰ç•Œç¼“å­˜çš„å¼€å‘ï¼Œæœ¬æ¡ˆä¾‹è¦æ±‚æˆ‘ä»¬å®ç°ä¸€ä¸ªå¹¶å‘å®‰å…¨çš„æœ‰ç•Œç¼“å­˜é˜Ÿåˆ—çš„å®ç°è¦æ±‚ä¸ºï¼š")]),s._v(" "),t("ol",[t("li",[s._v("å¯çµæ´»æŒ‡å®šæŒ‡å®šç¼“å­˜é˜Ÿåˆ—å®¹é‡")]),s._v(" "),t("li",[s._v("æ²¡è¾¾åˆ°ä¸Šé™æ—¶éé˜»å¡è¿½åŠ å†™å…¥å…ƒç´ ")]),s._v(" "),t("li",[s._v("æˆåŠŸå†™å…¥ä¸€ä¸ªå…ƒç´ ï¼Œå¯¹åº”é˜Ÿåˆ—é•¿åº¦+1")]),s._v(" "),t("li",[s._v("å–å‡ºå…ƒç´ æ—¶é˜Ÿåˆ—é•¿åº¦æ‰£å‡ï¼ŒæŒ‰ç…§å…ˆè¿›å…ˆå‡ºåŸåˆ™")]),s._v(" "),t("li",[s._v("ç¼“å­˜é˜Ÿåˆ—è¾¾åˆ°ä¸Šç•Œåçº¿ç¨‹é˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—æœ‰ç©ºé—²çš„ç©ºé—´å®¹çº³å¾…å†™å…¥çš„å…ƒç´ ")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://qiniuyun.sharkchili.com/202601151008121.png",alt:""}})]),s._v(" "),t("h4",{attrs:{id:"ä¸šåŠ¡åŠŸèƒ½æ‹†è§£"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸šåŠ¡åŠŸèƒ½æ‹†è§£"}},[s._v("#")]),s._v(" ä¸šåŠ¡åŠŸèƒ½æ‹†è§£")]),s._v(" "),t("p",[s._v("éœ€æ±‚æ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥é’ˆå¯¹ä¸šåŠ¡åŠŸèƒ½ä¹Ÿæ²¡æœ‰å¾ˆå¤æ‚çš„æ‹†è§£ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯éœ€è¦ç”Ÿæˆä¸€ä¸ªå…·å¤‡å¦‚ä¸‹è¡Œä¸ºçš„ç¼“å­˜é˜Ÿåˆ—"),t("code",[s._v("BoundedQueue")]),s._v("ï¼š")]),s._v(" "),t("ol",[t("li",[s._v("å¯ä»¥æŒ‡å®šé˜Ÿåˆ—é•¿åº¦")]),s._v(" "),t("li",[s._v("è‡ªæŒæŸ¥è¯¢å½“å‰é˜Ÿåˆ—é•¿åº¦ä»¥åŠé˜Ÿåˆ—æ˜¯å¦å·²æ»¡")]),s._v(" "),t("li",[s._v("æ”¯æŒæ·»åŠ å…ƒç´ ï¼Œä»¥è¿½åŠ çš„æ–¹å¼")]),s._v(" "),t("li",[s._v("æ”¯æŒç§»é™¤å…ƒç´ ï¼Œä»é˜Ÿé¦–ç§»é™¤")])]),s._v(" "),t("p",[s._v("é™å®šæ¡ä»¶ï¼š")]),s._v(" "),t("ol",[t("li",[s._v("æ”¯æŒå¹¶å‘æ“ä½œï¼Œå³å¤šä¸ªçº¿ç¨‹å¹¶å‘å­˜å…¥ï¼Œæœ€ç»ˆå¾—åˆ°å…ƒç´ å¤§å°å°±æ˜¯æˆåŠŸå­˜å…¥é˜Ÿé‡Œçš„å…ƒç´ æ•°")]),s._v(" "),t("li",[s._v("é˜Ÿåˆ—æ— æ³•å®¹çº³å…ƒç´ æ—¶ï¼Œç”Ÿäº§è€…çº¿ç¨‹ä¼šé˜»å¡")])]),s._v(" "),t("p",[s._v("åŸºäºä¸Šè¿°ä¸šåŠ¡éœ€æ±‚çš„ç†è§£å’ŒåŠŸèƒ½æ‹†è§£ï¼Œæˆ‘ä»¬å¤§ä½“å¾—å‡ºéœ€è¦å®ç°å¦‚ä¸‹å‡ ä¸ªæ–¹æ³•ï¼š")]),s._v(" "),t("ol",[t("li",[s._v("ä¸€ä¸ªå¯ä»¥æŒ‡å®šé˜Ÿåˆ—é•¿åº¦çš„æ„é€ æ–¹æ³•")]),s._v(" "),t("li",[s._v("ä¸€ä¸ªå°†å…ƒç´ å­˜å…¥ç¼“å­˜é˜Ÿåˆ—çš„"),t("code",[s._v("put")]),s._v("æ–¹æ³•ï¼Œåœ¨é˜Ÿåˆ—æœªè¾¾åˆ°ä¸Šé™æ—¶ä¼šé˜»å¡å½“å‰çº¿ç¨‹")]),s._v(" "),t("li",[s._v("ä¸€ä¸ªå°†å…ƒç´ å–å‡ºé˜Ÿåˆ—çš„"),t("code",[s._v("take")]),s._v("æ–¹æ³•ï¼Œå½“é˜Ÿåˆ—æ²¡æœ‰å…ƒç´ çš„æ—¶å€™ä¼šé˜»å¡å½“å‰çº¿ç¨‹")])]),s._v(" "),t("h4",{attrs:{id:"è®¾è®¡è½åœ°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è®¾è®¡è½åœ°"}},[s._v("#")]),s._v(" è®¾è®¡è½åœ°")]),s._v(" "),t("p",[s._v("ç»“åˆå¯¹äºéœ€æ±‚çš„æ¢³ç†ï¼Œæœ¬æ¬¡ç¼“å­˜é˜Ÿåˆ—çš„ç¬¬ä¸€ç‰ˆæœ¬çš„å®ç°ï¼Œæ¯”è¿™æ‰“ç®—ç”¨ç»å…¸çš„ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼çš„conditionå˜é‡æ¥å®ç°ï¼Œå¤§ä½“æ¥è¯´å®ç°çš„æ˜¯é€šè¿‡éç©ºå’Œéæ»¡å’Œæ¡ä»¶æ§åˆ¶å†™å…¥å…ƒç´ çš„ç”Ÿäº§è€…å’Œæ¶ˆè´¹å…ƒç´ çš„takeè°ƒç”¨è€…æ­£ç¡®é˜»å¡å’Œå”¤é†’æ“ä½œï¼Œæ•´ä½“å®ç°æ€è·¯ä¸ºï¼š")]),s._v(" "),t("ol",[t("li",[s._v("å£°æ˜ç¼“å­˜é˜Ÿåˆ—"),t("code",[s._v("BoundedQueue")]),s._v("ï¼Œå†…éƒ¨èšåˆä¸€ä¸ªé“¾è¡¨å­˜å‚¨å…ƒç´ ")]),s._v(" "),t("li",[s._v("å£°æ˜ç”Ÿäº§æˆ–è€…æ¶ˆè´¹é˜Ÿåˆ—æ—¶è¦ç”¨åˆ°çš„äº’æ–¥é”"),t("code",[s._v("lock")]),s._v("ï¼Œç¡®ä¿å¹¶å‘æ“ä½œäº’æ–¥")]),s._v(" "),t("li",[s._v("åŸºäºlockåˆ›å»ºnotFullé˜Ÿåˆ—ï¼Œå½“é˜Ÿåˆ—å·²æ»¡æ—¶é˜»å¡ç”Ÿäº§è€…çš„ç­‰å¾…æ¡ä»¶é˜Ÿåˆ—"),t("code",[s._v("notFull")])]),s._v(" "),t("li",[s._v("åŸºäºlockåˆ›å»ºnotEmptyé˜Ÿåˆ—ï¼Œå½“é˜Ÿåˆ—å·²ç©ºæ—¶é˜»å¡ç”Ÿäº§è€…çš„ç­‰å¾…é˜Ÿåˆ—éç©ºçš„æ¡ä»¶é˜Ÿåˆ—"),t("code",[s._v("notEmpty")])]),s._v(" "),t("li",[s._v("ç”Ÿäº§å…ƒç´ æ—¶ï¼Œé¦–å…ˆè·å–putLockï¼ŒæˆåŠŸè·å–æ‰€åï¼Œåˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦å·²æ»¡ï¼Œè‹¥å·²æ»¡åˆ™è°ƒç”¨notFullçš„waitæ–¹æ³•ç­‰å¾…éæ»¡æ—¶è¢«å”¤é†’ï¼Œè‹¥éç©ºåˆ™å†™å…¥è¿”å›")]),s._v(" "),t("li",[s._v("æ¶ˆè´¹å…ƒç´ æ—¶ï¼Œé¦–å…ˆè·å–takeLockï¼Œç¡®ä¿æ¶ˆè´¹å…ƒç´ æ“ä½œäº’æ–¥ï¼Œè‹¥ä¸ºç©ºåˆ™è°ƒç”¨notEmptyçš„waitå°†å…¶é˜»å¡ï¼Œç­‰å¾…æœ‰å…ƒç´ æ—¶è¢«å”¤é†’")])]),s._v(" "),t("p",[s._v("å¯¹åº”çš„æ¯”è¿™ä¹Ÿç»™å‡ºåŸºäºè¿™ä¸ªç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹ï¼Œå¾—å‡ºçš„ç»å…¸äº¤äº’æµç¨‹å›¾ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://qiniuyun.sharkchili.com/202601151008220.png",alt:""}})]),s._v(" "),t("p",[s._v("æ˜ç¡®å¼€å‘æ€è·¯ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥æŒ‰ç…§å¹¶å‘ç¨‹åºçš„å®‰å…¨æ€§å’Œæ´»è·ƒæ€§éªŒæ”¶æ ‡å‡†å®Œæˆé©±åŠ¨æµ‹è¯•ç”¨ä¾‹çš„è®¾è®¡ï¼Œè¾…åŠ©ç†è§£å¹¶æ¢³ç†å¹¶å‘ç¨‹åºçš„è¦æ±‚å’ŒéªŒæ”¶æ ‡å‡†ï¼Œç¡®ä¿å¼€å‘æ–¹å‘æ­£ç¡®ä¸”é¡ºåºæ‰§è¡Œï¼Œä¸ä¼šè¢«ä¼ ç»ŸTDDæ‰€è°“çº¢ç»¿ç¯æ­¥éª¤æ‰“æ–­å¿ƒæµï¼š")]),s._v(" "),t("ol",[t("li",[s._v("å®‰å…¨æ€§æµ‹è¯•ï¼šåˆå§‹åŒ–é˜Ÿåˆ—é˜Ÿåˆ—sizeä¸º0")]),s._v(" "),t("li",[s._v("å®‰å…¨æ€§æµ‹è¯•ï¼šç¡®ä¿ç©ºé˜Ÿåˆ—æ·»åŠ å…ƒç´ åï¼Œè¿”å›çš„sizeä¸º1")]),s._v(" "),t("li",[s._v("å®‰å…¨æ€§æµ‹è¯•ï¼šæŒ‡å®šé˜Ÿåˆ—ä¸º10çš„æƒ…å†µä¸‹ï¼Œ10ä¸ªå¹¶å‘çº¿ç¨‹éƒ½é‚£æ­£ç¡®æ·»åŠ æˆåŠŸï¼Œä¸”æœ€ç»ˆsizeä¸º10")]),s._v(" "),t("li",[s._v("æ´»è·ƒæ€§æµ‹è¯•ï¼šæŒ‡å®šé˜Ÿåˆ—ä¸º10çš„æƒ…å†µä¸‹ï¼Œ11ä¸ªçº¿ç¨‹æ“ä½œï¼Œæœ‰ä¸€ä¸ªçº¿ç¨‹ä¼šé˜»å¡")])]),s._v(" "),t("p",[s._v("è¿™é‡Œç¬”è€…ä¸“é—¨æŠ½å‡ºä¸€ä¸ªç‰ˆå—ï¼Œç€é‡å¼ºè°ƒä¸€ä¸ªæœ€é‡è¦çš„å®‰å…¨æµ‹è¯•ï¼Œè€ƒè™‘åˆ°è¯»è€…è·‘ç¨‹åºæœºå™¨ä¸ç¡®å®šæ€§å³åœ¨ç¡¬ä»¶æ¡ä»¶è¾ƒå·®çš„æœºå™¨æµ‹è¯•å¹¶å‘ç¨‹åºï¼Œå¾ˆå¯èƒ½ä¼šå› ä¸ºåˆ›å»ºå¤§é‡çº¿ç¨‹å¯¼è‡´å¹¶è¡Œçš„ç¨‹åºå˜ä¸ºä¸²è¡Œæ‰§è¡Œï¼Œæ‰€ä»¥åœ¨å®‰å…¨æ€§æµ‹è¯•è¿™ä¸€å—ï¼Œç¬”è€…ä¼šè€ƒè™‘å¦‚ä¸‹æ­¥éª¤å®Œæˆçš„ä¸€ä¸ªå‡†ç¡®çš„å¹¶å‘æ­£ç¡®æ€§æµ‹è¯•ï¼Œå¯¹åº”è½åœ°æ­¥éª¤ä¸ºï¼š")]),s._v(" "),t("ol",[t("li",[s._v("åˆ›å»º"),t("code",[s._v("CyclicBarrier")]),s._v("ï¼Œå½“æ‰€æœ‰ç”Ÿäº§è€…ã€æ¶ˆè´¹è€…çº¿ç¨‹å°±ç»ªåå¹¶å‘ç”Ÿäº§è€…æ¶ˆè´¹å…ƒç´ ï¼Œç¡®ä¿æ‰€æœ‰çº¿ç¨‹å°±ç»ªåï¼Œå¹¶è¡Œäº¤æ›¿å·¥ä½œ")]),s._v(" "),t("li",[s._v("æŒ‡å®šè¯»å†™å…ƒç´ ä¸ºæ•´å‹ï¼Œä¸”ä¸ºéšæœºæ•°ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯é¿å…ç¼–è¯‘å™¨é¢„å…ˆçŒœåˆ°æ ¡éªŒå’Œè€Œå»æå‰ä¼˜åŒ–ï¼Œå¯¼è‡´å®‰å…¨æ€§æµ‹è¯•ä¸å‡†ç¡®ï¼Œé€šè¿‡åŸå­ç±»è®°å½•ç”Ÿäº§è€…æ¶ˆè´¹è€…å¤„ç†å…ƒç´ çš„ç´¯åŠ å’Œæ¯”å¯¹ä¸€è‡´è¿›è¡Œå®‰å…¨æ€§æ ¡éªŒ")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://qiniuyun.sharkchili.com/202601151348944.png",alt:""}})]),s._v(" "),t("h4",{attrs:{id:"è½åœ°æ­¥éª¤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è½åœ°æ­¥éª¤"}},[s._v("#")]),s._v(" è½åœ°æ­¥éª¤")]),s._v(" "),t("p",[s._v("å› ä¸ºæœ‰ä¸Šè¿°çš„è®¾è®¡æ–¹æ¡ˆå’Œæ¼”ç¤ºæµ‹è¯•ç”¨ä¾‹ï¼Œç¬”è€…å¾ˆæ¸…æ™°çš„å¾—å‡ºä¸‹é¢è¿™ä¸ªæ ¸å¿ƒä»£ç ç‰‡æ®µï¼Œæ•´ä½“ç¼–ç æ€è·¯ä¸ºï¼š")]),s._v(" "),t("ol",[t("li",[s._v("å£°æ˜å¯é‡å…¥é”ç¡®ä¿å¹¶å‘äº’æ–¥")]),s._v(" "),t("li",[s._v("åŸºäºé”æ„å»ºç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„ç­‰å¾…æ¡ä»¶é˜Ÿåˆ—ï¼Œå³ç”Ÿäº§è€…ç›‘å¬notFullç­‰å¾…é˜Ÿåˆ—éæ»¡å†™å…¥å…ƒç´ ï¼Œæ¶ˆè´¹è€…ç›‘å¬notEmptyç­‰å¾…éç©ºæ¶ˆè´¹å…ƒç´ ")]),s._v(" "),t("li",[s._v("å†™å…¥å…ƒç´ å‡½æ•°putï¼Œä¸Šé”ååˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦éæ»¡ï¼Œè‹¥æ»¡åˆ™é˜»å¡ï¼Œåä¹‹å†™å…¥ï¼Œæ¶ˆè´¹è€…åŒç†")])]),s._v(" "),t("p",[s._v("å¯¹åº”ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼Œè¯»è€…å¯ç»“åˆæ³¨é‡Šç†è§£ä¸€ä¸‹å®ç°ç»†èŠ‚")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BoundedQueue")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("E")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ReentrantLock")]),s._v(" lock "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ReentrantLock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * ç”Ÿäº§è€…å†™å…¥å…ƒç´ å,ä¼šé€šçŸ¥notEmptyç­‰å¾…é˜Ÿåˆ—çš„æ¶ˆè´¹è€…æ‰§è¡Œæ¶ˆè´¹\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Condition")]),s._v(" notEmpty "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" lock"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("newCondition")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * æ¶ˆè´¹è€…è·å–å…ƒç´ å,ä¼šé€šçŸ¥notFullç­‰å¾…é˜Ÿåˆ—çš„ç”Ÿäº§è€…æ‰§è¡Œå†™å…¥\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Condition")]),s._v(" notFull "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" lock"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("newCondition")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LinkedList")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("E")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" items"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" capacity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" size "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//åˆå§‹åŒ–å®¹é‡å’Œé˜Ÿåˆ—(åº•å±‚ç”¨é“¾è¡¨)")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BoundedQueue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" capacity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("capacity "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" capacity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        items "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LinkedList")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * ä¸Šé”æˆåŠŸåæ ¹æ®æ˜¯å¦åˆ°è¾¾ä¸Šé™å†³å®šå†™å…¥è¿˜æ˜¯é˜»å¡\n     * @param e\n     * @throws InterruptedException\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("put")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("E")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterruptedException")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            lock"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lockInterruptibly")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//é¿å…å”¤é†’ååˆæ»¡ ä¾ç„¶æ‰§è¡Œå†™å…¥çš„é”™è¯¯æƒ…å†µ")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("items"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" capacity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                notFull"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("await")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ·»åŠ å…ƒç´ ")]),s._v("\n            items"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            notEmpty"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("signal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("finally")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            lock"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("unlock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("E")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("take")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterruptedException")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            lock"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lockInterruptibly")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//ç­‰å¾…éç©ºå”¤é†’æ¶ˆè´¹")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("items"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                notEmpty"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("await")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//è·å–å…ƒç´ ")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("E")]),s._v(" e "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" items"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("remove")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ¶ˆè´¹å…ƒç´ ,é€šçŸ¥ç”Ÿäº§è€…ç»§ç»­å†™å…¥")]),s._v("\n            notFull"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("signal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("finally")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            lock"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("unlock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" items"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br")])]),t("h4",{attrs:{id:"å¹¶å‘æ— å…³æ€§é€»è¾‘éªŒè¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¹¶å‘æ— å…³æ€§é€»è¾‘éªŒè¯"}},[s._v("#")]),s._v(" å¹¶å‘æ— å…³æ€§é€»è¾‘éªŒè¯")]),s._v(" "),t("p",[s._v("åŒç†é¡ºåºç»™å‡ºä¸Šè¿°å‡ ä¸ªé©±åŠ¨çš„æµ‹è¯•è®¾è®¡é©±åŠ¨é˜¶æ®µçš„æµ‹è¯•ç”¨ä¾‹è½åœ°ï¼Œç¬¬ä¸€ä¸ªåˆ™æ˜¯åŸºæœ¬æ·»åŠ åŠŸèƒ½çš„éªŒæ”¶æ¯”è¾ƒå®¹æ˜“ï¼š")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//ç¡®ä¿ç©ºé˜Ÿåˆ—æ·»åŠ å…ƒç´ åï¼Œè¿”å›çš„sizeä¸º1")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Test")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("testAddToEmptyQueue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterruptedException")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BoundedQueue")]),s._v(" queue "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BoundedQueue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        queue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("put")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("assertEquals")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" queue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h4",{attrs:{id:"å¹¶å‘å†™å…¥ä¸€è‡´æ€§éªŒè¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¹¶å‘å†™å…¥ä¸€è‡´æ€§éªŒè¯"}},[s._v("#")]),s._v(" å¹¶å‘å†™å…¥ä¸€è‡´æ€§éªŒè¯")]),s._v(" "),t("p",[s._v("ç¬¬äºŒä¸ªåˆ™æ˜¯å¹¶å‘åŠŸèƒ½çš„éªŒæ”¶ï¼Œè¿™ä¸€ç‚¹å¯ä»¥å‚è€ƒå¹¶å‘ç¼–ç¨‹çš„è¯´æ³•ï¼Œé‡‡ç”¨åéªŒæ¡ä»¶è¿›è¡ŒéªŒæ”¶ï¼Œç”±éœ€æ±‚å¯çŸ¥æ­£ç¡®çš„ç»“æ„æ˜¯é•¿åº¦ä¸º10çš„é˜Ÿåˆ—10ä¸ªå¹¶å‘æ·»åŠ æ˜¯å¯ä»¥æ­£ç¡®æ·»åŠ ä¸”ä¸é˜»å¡çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€é€šè¿‡æœ€ç»ˆçš„sizeå³åéªŒæ¡ä»¶éªŒæ”¶å³å¯ï¼š")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æŒ‡å®šé˜Ÿåˆ—ä¸º10çš„æƒ…å†µä¸‹ï¼Œ10ä¸ªå¹¶å‘çº¿ç¨‹éƒ½é‚£æ­£ç¡®æ·»åŠ æˆåŠŸ")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Test")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("testAddToFullQueue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterruptedException")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BoundedQueue")]),s._v(" queue "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BoundedQueue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CompletableFuture")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Void")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" completableFutureList "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IntStream")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("range")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mapToObj")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CompletableFuture")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("runAsync")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                        queue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("put")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterruptedException")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RuntimeException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("collect")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Collectors")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("toList")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        completableFutureList"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("stream")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("map")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CompletableFuture")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//ç”¨joiné˜»å¡è·å–ç»“æœ")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("collect")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Collectors")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("toList")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//ç»„æˆåˆ—è¡¨")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("assertEquals")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" queue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br")])]),t("h4",{attrs:{id:"å¹¶å‘é˜»å¡éªŒè¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¹¶å‘é˜»å¡éªŒè¯"}},[s._v("#")]),s._v(" å¹¶å‘é˜»å¡éªŒè¯")]),s._v(" "),t("p",[s._v("æœ€åä¸€ä¸ªæ¶‰åŠé˜»å¡æ“ä½œï¼Œå¦‚æœªèƒ½æ­£ç¡®å¤„ç†å¯èƒ½å¯¼è‡´åéªŒé€»è¾‘æ— æ³•æ‰§è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»åšåˆ°è®©é˜»å¡çš„çº¿ç¨‹èµ°åˆ°ä¸€ä¸ªç›®æ ‡é€»è¾‘æ–¹æ³•ä¸Šã€‚\nç»“åˆå¹¶å‘ç¼–ç¨‹åŸºç¡€å¯çŸ¥ï¼Œé˜»å¡æ“ä½œæ˜¯å¯ä»¥æ‰“æ–­çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æµ‹è¯•å¯ä»¥åœ¨ç­‰å¾…çº¿ç¨‹é˜»å¡åå°†å…¶æ‰“æ–­ï¼Œé€šè¿‡åˆ¤æ–­çº¿ç¨‹çš„å­˜æ´»ä»¥åŠé€»è¾‘æ˜¯å¦èµ°åˆ°é˜»å¡ä¹‹åçš„ä»£ç æ®µæ„ŸçŸ¥é˜»å¡æ€ã€‚")]),s._v(" "),t("p",[s._v("å¯¹åº”ä»£ç å¦‚ä¸‹ï¼Œç¬”è€…ç»™å®šæ—¶é—´ç­‰å¾…çº¿ç¨‹é˜»å¡ï¼Œç„¶åå°è¯•å°†å…¶æ‰“æ–­ç¡®ä¿å¯ä»¥é¡ºåˆ©æ‰§è¡ŒåéªŒé€»è¾‘ï¼Œå¦‚æœè§¦å‘ä¸­æ–­å¼‚å¸¸åˆ™å°†isBlockingçŠ¶æ€è®¾ç½®ä¸ºtrueï¼ŒåéªŒé€»è¾‘å°±å¯ä»¥æ ¹æ®è¿™ä¸ªæ ‡è¯†è¿›è¡Œåˆ¤æ–­:")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æŒ‡å®šé˜Ÿåˆ—ä¸º1ä¸”è¢«ä½¿ç”¨çš„æƒ…å†µä¸‹,å¦å¤–ä¸€ä¸ªçº¿ç¨‹ä¼šé˜»å¡")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Test")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("testAddToFullQueueWithBlocking")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterruptedException")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//è®¾ç½®é˜Ÿåˆ—é•¿åº¦ä¸º1å¹¶å†™å…¥")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AtomicBoolean")]),s._v(" isBlocking "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AtomicBoolean")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BoundedQueue")]),s._v(" queue "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BoundedQueue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        queue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("put")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//åˆ›å»ºçº¿ç¨‹å†æ¬¡å†™å…¥")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),s._v(" thread "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                queue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("put")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RandomUtil")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("randomInt")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//è‹¥èµ°åˆ°è¿™é‡Œè¯´æ˜çº¿ç¨‹æ²¡æœ‰é˜»å¡")]),s._v("\n                isBlocking"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterruptedException")]),s._v(" success"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//è‹¥çº¿ç¨‹èµ°åˆ°è¿™é‡Œåˆ™è¯´æ˜æˆåŠŸè¢«æ‰“æ–­")]),s._v("\n                isBlocking"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        thread"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//è®©å½“å‰çº¿ç¨‹ç­‰å¾…æŒ‡å®šçº¿ç¨‹æœ€å¤š1000æ¯«ç§’")]),s._v("\n        thread"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//å°è¯•æ‰“æ–­çº¿ç¨‹")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadUtil")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        thread"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("interrupt")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadUtil")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//è¢«æ‰“æ–­çš„çº¿ç¨‹ä¼šæ­»äº¡,isAliveä¼šå˜ä¸ºfalse")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("assertFalse")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("thread"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("isAlive")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//åˆ¤æ–­æ˜¯å¦è¢«é˜»å¡,è‹¥æ‰“æ–­åˆ™åŸå­çŠ¶æ€ä¼šè¢«è®¾ç½®ä¸ºtrue")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("assertTrue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("isBlocking"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br")])]),t("h4",{attrs:{id:"å®‰å…¨æ€§æµ‹è¯•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å®‰å…¨æ€§æµ‹è¯•"}},[s._v("#")]),s._v(" å®‰å…¨æ€§æµ‹è¯•")]),s._v(" "),t("p",[s._v("æœ€åå°±æ˜¯å¹¶å‘æ•°æ®ç«äº‰å†™å…¥çš„æ ¡éªŒäº†ï¼Œå’Œç¬”è€…ä¸Šè¿°è®¾è®¡ä¸€è‡´ï¼Œé€šè¿‡CyclicBarrierç¡®ä¿çº¿ç¨‹å¹¶å‘æ— åºæ‰§è¡Œï¼Œç”Ÿäº§è€…æ¶ˆè´¹è€…æ‰§è¡Œéšæœºæ•°çš„ç”Ÿäº§å’Œæ¶ˆè´¹å¹¶é€šè¿‡åŸå­ç±»æ±‚å’Œï¼Œåœ¨åéªŒé€»è¾‘ä¸­éªŒè¯åŒæ–¹æ±‚å’Œæ˜¯å¦ä¸€è‡´ä»¥åšåˆ°å®‰å…¨æ€§æµ‹è¯•æ ¡éªŒï¼š")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Test")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("testConcurrentSafety")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterruptedException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BrokenBarrierException")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" size "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runtime")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getRuntime")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("availableProcessors")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//åˆ›å»º2N+1ä¸ªå¾ªç¯æ …æ ")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CyclicBarrier")]),s._v(" barrier "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CyclicBarrier")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("size "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ExecutorService")]),s._v(" threadPool "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Executors")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("newFixedThreadPool")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" size "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//è®¡ç®—å†™å…¥å’Œæ¶ˆè´¹å…ƒç´ å’Œ")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AtomicInteger")]),s._v(" putSum "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AtomicInteger")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AtomicInteger")]),s._v(" takeSum "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AtomicInteger")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//åˆå§‹åŒ–é˜»å¡é˜Ÿåˆ—")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BoundedQueue")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" queue "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BoundedQueue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        \n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ‰§è¡ŒNæ¬¡å¾ªç¯,å¯¹åº”ä¼šæ¶ˆè´¹2Nä¸ªå¾ªç¯æ …æ ")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" size"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            threadPool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("execute")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ¶ˆè´¹å¯åŠ¨æ …æ ,å°±ç»ªç­‰å¾…")]),s._v("\n                    barrier"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("await")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" num "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RandomUtil")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("randomInt")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                    queue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("put")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("num"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                    putSum"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("addAndGet")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("num"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                    barrier"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("await")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("printStackTrace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            threadPool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("execute")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ¶ˆè´¹å¯åŠ¨æ …æ ,å°±ç»ªç­‰å¾…")]),s._v("\n                    barrier"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("await")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                    takeSum"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("addAndGet")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("queue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("take")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                    barrier"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("await")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("printStackTrace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ¶ˆè´¹ç¬¬2N+1ä¸ªå¾ªç¯æ …æ ,å¯åŠ¨å¹¶å‘")]),s._v("\n        barrier"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("await")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//2æ¬¡æ¶ˆè´¹ç¬¬2N+1ä¸ªå¾ªç¯æ …æ ,ç»“æŸå¹¶å‘")]),s._v("\n        barrier"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("await")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ ¡éªŒå’Œ")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("assertEquals")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("putSum"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" takeSum"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br")])]),t("h4",{attrs:{id:"é‡æ„ä¸ä¼˜åŒ–"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é‡æ„ä¸ä¼˜åŒ–"}},[s._v("#")]),s._v(" é‡æ„ä¸ä¼˜åŒ–")]),s._v(" "),t("p",[s._v("æœ‰äº†ä¸Šè¿°åŸºç¡€ä¹‹åï¼Œæˆ‘ä»¬åç»­çš„é‡æ„å’Œä¼˜åŒ–å°±å˜å¾—éå¸¸å®¹æ˜“äº†ï¼Œä¾‹å¦‚ï¼šç¬”è€…è€ƒè™‘åˆ°å½“å‰æœåŠ¡å™¨å†…å­˜æ•æ„Ÿï¼Œè€ƒè™‘åˆ°é˜»å¡é˜Ÿåˆ—å®¹é‡å›ºå®šï¼Œæ‰“ç®—å°†æœ‰ç•Œç¼“å­˜é˜Ÿåˆ—åº•å±‚é“¾è¡¨æ¢ä¸ºå±€éƒ¨æ€§å‹å¥½çš„æ•°ç»„ï¼Œæ­¤æ—¶å¯¹åº”è¿­ä»£å›å½’æˆ‘ä»¬éƒ½å¯ä»¥ç”¨åˆ°ä¸Šè¿°çš„å•å…ƒæµ‹è¯•å¾ˆå¿«å®Œæˆè¿­ä»£åçš„éªŒæ”¶ï¼š")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//åˆå§‹åŒ–å®¹é‡å’Œé˜Ÿåˆ—(åº•å±‚ç”¨æ•°ç»„æå‡æ‰§è¡Œæ€§èƒ½)")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BoundedQueue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" capacity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("capacity "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" capacity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        items "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ArrayList")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("capacity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h2",{attrs:{id:"å°ç»“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å°ç»“"}},[s._v("#")]),s._v(" å°ç»“")]),s._v(" "),t("p",[s._v("æœ¬æ–‡è¯¦ç»†ä»‹ç»TDDä¸ä¼ ç»Ÿå¹¶å‘ç¼–ç¨‹ç¨‹åºçš„è®¾è®¡ä¸å®ç°æ€è·¯ï¼Œå¹¶ç»“åˆä¸€äº›ä¼ ç»Ÿçš„æµ‹è¯•æŠ€æœ¯è®©javaå¹¶å‘èµ·ç¨‹åºå®‰å…¨é¢„æœŸçš„éšæœºå¹¶å‘æ‰§è¡Œï¼Œé¿å…åŠ¨æ€ç¼–è¯‘ç­‰è¯­è¨€ç‰¹æ€§æ‰€å¸¦æ¥çš„è¯¯å¯¼ï¼Œæœ€åç­‰å¾…æ‰€æœ‰åˆ›å»ºçº¿ç¨‹ç»“æŸåé’ˆå¯¹ä¸å˜å½¢æ¡ä»¶æˆ–è€…åéªŒæ¡ä»¶(ä¾‹å¦‚æœ¬æ–‡é˜Ÿåˆ—ä¸­çš„sizeæˆ–è€…å¹¶å‘è®¡ç®—æ—¶çš„éšæœºæ•°æ±‚å’Œ)æ‰§è¡ŒTDDè‡ªåŠ¨åŒ–æ–­è¨€ï¼Œå®Œæˆé€»è¾‘éªŒæ”¶ã€‚")]),s._v(" "),t("p",[s._v("ä½ å¥½ï¼Œæˆ‘æ˜¯ "),t("strong",[s._v("SharkChili")]),s._v(" ï¼Œç¦…ä¸è®¡ç®—æœºç¨‹åºè®¾è®¡è‰ºæœ¯å¸ƒé“è€…ï¼Œå¸Œæœ›æˆ‘çš„ç†å¿µå¯¹æ‚¨æœ‰æ‰€å¯å‘ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ğŸ“ æˆ‘çš„å…¬ä¼—å·ï¼šå†™ä»£ç çš„SharkChili")]),t("br"),s._v("\nåœ¨è¿™é‡Œï¼Œæˆ‘ä¼šåˆ†äº«æŠ€æœ¯å¹²è´§ã€ç¼–ç¨‹æ€è€ƒä¸å¼€æºé¡¹ç›®å®è·µã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ğŸš€ æˆ‘çš„å¼€æºé¡¹ç›®ï¼šmini-redis")]),t("br"),s._v("\nä¸€ä¸ªç”¨äºæ•™å­¦ç†è§£çš„ Redis ç²¾ç®€å®ç°ï¼Œæ¬¢è¿ Star & Contributeï¼š"),t("br"),s._v(" "),t("a",{attrs:{href:"https://github.com/shark-ctrl/mini-redis",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/shark-ctrl/mini-redis"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("strong",[s._v("ğŸ‘¥ æ¬¢è¿åŠ å…¥è¯»è€…ç¾¤")]),t("br"),s._v("\nå…³æ³¨å…¬ä¼—å·ï¼Œå›å¤ "),t("strong",[s._v("ã€åŠ ç¾¤ã€‘")]),s._v(" å³å¯è·å–è”ç³»æ–¹å¼ï¼ŒæœŸå¾…ä¸ä½ äº¤æµæŠ€æœ¯ã€å…±åŒæˆé•¿ï¼")]),s._v(" "),t("h2",{attrs:{id:"å‚è€ƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒ"}},[s._v("#")]),s._v(" å‚è€ƒ")]),s._v(" "),t("p",[s._v("ã€Šjavaå¹¶å‘ç¼–ç¨‹å®æˆ˜ã€‹")])])}),[],!1,null,null,null);t.default=e.exports}}]);